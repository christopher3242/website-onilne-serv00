<!DOCTYPE html>
<html lang="en">
  <head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,
      initial-scale=1.0">
    <title>Fishing Game with Missed Reset &amp; Speed (1-10)</title>
    <style>
  body {
    font-family: Arial, sans-serif;
    background-color: #87CEFA;
    text-align: center;
    margin-top: 20px;
  }
  #gameArea {
    width: 500px;
    height: 400px;
    background-color: #ADD8E6;
    border: 2px solid #000;
    margin: 0 auto;
    position: relative;
    overflow: hidden;
  }
  #fishingRod {
    position: absolute;
    bottom: 20px;
    width: 40px;
    height: 40px;
    font-size: 2em;
    cursor: pointer;
    left: 50%;
    transform: translateX(-50%);
  }
  #fish {
    position: absolute;
    font-size: 2em;
    display: none;
  }
  #controls {
    margin-top: 15px;
  }
  #speedControl {
    margin-top: 10px;
  }
  button {
    padding: 8px 16px;
    margin: 0 10px;
    font-size: 1em;
    cursor: pointer;
  }
  #status {
    margin-top: 15px;
    font-size: 1.2em;
  }
  #scoreboard {
    margin-top: 10px;
    font-size: 1.4em;
  }
</style>
  </head>
  <body>
    <h1>Fishing Game with Missed Reset &amp; Speed (1-10)</h1>
    <div id="gameArea">
      <div id="fishingRod">ðŸŽ£</div>
      <div id="fish">ðŸŽ£</div>
    </div>
    <div id="controls"> <button id="restartBtn">Restart</button> <a
        href="../games.html"><button id="exitBtn">Exit</button></a>
    </div>
    <div id="scoreboard">
      <div id="currentScore">Score: 0</div>
      <div id="topScore">Top Score: 0</div>
    </div>
    <div id="status">Press Enter to spawn a fish. Use `A` and `D` to
      move the rod.</div>
    <!-- Speed control slider -->
    <div id="speedControl"> <label for="speedRange">Speed (1-10): </label>
      <input id="speedRange" min="1" max="10" value="5" type="range"> <span
        id="speedValue">5</span>
    </div>
    <script>
const gameArea = document.getElementById('gameArea');
const fishingRod = document.getElementById('fishingRod');
const fish = document.getElementById('fish');
const status = document.getElementById('status');
const restartBtn = document.getElementById('restartBtn');
const exitBtn = document.getElementById('exitBtn');
const currentScoreDisplay = document.getElementById('currentScore');
const topScoreDisplay = document.getElementById('topScore');
const speedRange = document.getElementById('speedRange');
const speedValue = document.getElementById('speedValue');

let score = 0;
let topScore = 0;
let rodPosition = 250; // center bottom
const gameAreaWidth = gameArea.clientWidth;
const fishingRodWidth = 40;
let fishSpeed = parseInt(speedRange.value); // initial speed

let fishPosition = 0;
let fishY = 0;
let fishIntervalId = null;

// Initialize rod position
fishingRod.style.left = (rodPosition - fishingRodWidth/2) + 'px';

// Update speed display
speedRange.addEventListener('input', () => {
  speedValue.textContent = speedRange.value;
  fishSpeed = parseInt(speedRange.value);
});

function moveRod(direction) {
  if (direction === 'left') {
    rodPosition -= 20;
    if (rodPosition < fishingRodWidth/2) rodPosition = gameAreaWidth - fishingRodWidth/2;
  } else if (direction === 'right') {
    rodPosition += 20;
    if (rodPosition > gameAreaWidth - fishingRodWidth/2) rodPosition = gameAreaWidth - fishingRodWidth/2;
  }
  fishingRod.style.left = (rodPosition - fishingRodWidth/2) + 'px';
}

function spawnFish() {
  if (fishIntervalId) clearInterval(fishIntervalId);
  fishPosition = Math.random() * (gameArea.clientWidth - 40);
  fish.style.left = fishPosition + 'px';
  fish.style.top = '0px';
  fish.style.display = 'block';
  fishY = 0;
  moveFish();
}

function moveFish() {
  fishIntervalId = setInterval(() => {
    if (fishY >= 380) {
      clearInterval(fishIntervalId);
      if (isFishCaught()) {
        score++;
        currentScoreDisplay.textContent = 'Score: ' + score;
        if (score > topScore) {
          topScore = score;
          topScoreDisplay.textContent = 'Top Score: ' + topScore;
        }
        status.textContent = 'You caught the fish! ðŸŽ‰';
        fish.style.display = 'none';
      } else {
        // Missed: reset score to 0
        score = 0;
        currentScoreDisplay.textContent = 'Score: ' + score;
        status.textContent = 'Missed! Score reset to 0.';
        fish.style.display = 'none';
      }
    } else {
      fishY += fishSpeed;
      fish.style.top = fishY + 'px';
    }
  }, 30);
}

function isFishCaught() {
  const fishCenter = fishPosition + 20; // fish width/2
  const rodLeft = rodPosition - fishingRodWidth/2;
  const rodRight = rodPosition + fishingRodWidth/2;
  return (fishCenter >= rodLeft && fishCenter <= rodRight);
}

// Keyboard controls: A & D for movement
document.addEventListener('keydown', (e) => {
  if (e.key === 'a' || e.key === 'A') {
    moveRod('left');
  } else if (e.key === 'd' || e.key === 'D') {
    moveRod('right');
  } else if (e.key === 'Enter') {
    if (fish.style.display === 'none' || !fish.style.display) {
      status.textContent = 'A fish appears! Try to catch it!';
      spawnFish();
    }
  }
});

// Restart button
restartBtn.addEventListener('click', () => {
  if (fishIntervalId) clearInterval(fishIntervalId);
  fish.style.display = 'none';
  score = 0;
  currentScoreDisplay.textContent = 'Score: ' + score;
  status.textContent = 'Game restarted! Press Enter to spawn a fish.';
});


// Initial message
status.textContent = 'Press Enter to spawn a fish. Use `A` and `D` to move the rod.';
</script>
  </body>
</html>
